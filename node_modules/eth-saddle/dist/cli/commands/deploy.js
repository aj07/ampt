"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deploy = void 0;
const contract_1 = require("../../contract");
const saddle_1 = require("../../saddle");
const logger_1 = require("../../logger");
async function deploy(network, contractName, contractArgs, trace, verbose) {
    let saddle = await saddle_1.getSaddle(network);
    logger_1.info(`Deploying contract ${contractName} with args ${JSON.stringify(contractArgs)}`, verbose);
    const sendOptions = {
        ...saddle.network_config.defaultOptions,
        from: saddle.account
    };
    let { contract, receipt } = await contract_1.deployContract(saddle.web3, network, contractName, contractArgs, saddle.network_config, saddle.network_config.defaultOptions, sendOptions);
    logger_1.info(`Deployed ${contractName} at ${contract.options.address}`, verbose);
    await contract_1.saveContract(contractName, contract, saddle.network_config);
    logger_1.info(`\nNote: see ${contract_1.getNetworkFile(saddle.network_config)} for deployed contract addresses`, verbose);
    return { contract, receipt };
}
exports.deploy = deploy;
//# sourceMappingURL=deploy.js.map